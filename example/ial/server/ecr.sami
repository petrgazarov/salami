@exports(name: cumuli-server-ecr-repository-name)
Resource type: ecr.Repository
Logical name: CumuliServerRepository
Name: cumuli-server
@property(Mutable image tags)

@uses(CumuliServerRepository)
Resource type: ecr.LifecyclePolicy
Logical name: CumuliServerRepoLifecyclePolicy
Policy: A JSON policy with a rule that retains only the last 10 untagged images in the repository. Images beyond this count will expire.

Resource type: iam.Role
Logical name: CumuliEcsExecutionRole
Name: cumuli-server-ecs-execution-role
Assume role policy: A JSON policy that allows the "ecs-tasks.amazonaws.com" service to assume the role.

@uses(CumuliServerRepository, CumuliEcsExecutionRole)
Resource type: ecr.RepositoryPolicy
Logical name: CumuliServerRepositoryPolicy
Policy: A JSON policy that allows CumuliEcsExecutionRole to perform three actions on the ECR repository. The actions are "ecr:GetDownloadUrlForLayer", "ecr:BatchGetImage", and "ecr:BatchCheckLayerAvailability".