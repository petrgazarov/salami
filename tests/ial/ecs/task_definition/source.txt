@uses(CumuliServerTaskRole, CumuliEcsExecutionRole, CumuliServerRepository, CumuliServerLogGroup)
Resource type: ecs.TaskDefinition
Logical name: CumuliServerTaskDefinition
Name: cumuli-server-task-definition
Family: cumuli-server
Cpu: 256
Memory: 512
Network mode: awsvpc
Task role: CumuliServerTaskRole
@property(Requires FARGATE compatibility)
Execution role: CumuliEcsExecutionRole
Container definition:
  Name: {server_container_name}
  Image: CumuliServerRepository url with the 'latest' tag
  Memory: 512
  Cpu: 256
  Essential: True
  Port mappings: Only container port {container_port} is mapped to port {container_port}. Host port is auto-assigned by ECS.
  Environment:
    OPENAI_API_KEY: taken from environment
    ASSUMED_ROLE_SECRET_TOKEN: taken from environment
    PYTHON_EXEC_URL: The value is enterpolated as {python_exec_local_service_name}.{local_dns_namespace_name}:{container_port}.
  Log configuration: awslogs log driver, CumuliServerLogGroup log group name, and {aws_region} AWS region. The stream prefix is set to ecs.